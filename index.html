<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Products</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">

<header class="bg-blue-900 text-white p-4 text-center font-bold text-xl">
Amazon-Style Product Store
</header>

<div class="max-w-7xl mx-auto p-4">
  <div id="products" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
</div>

<script>
const CSV_URL =
"https://docs.google.com/spreadsheets/d/1-7MmarfUBcDmvZw38wd9cE9ZJjr4qedZHBnK_8a2yhg/export?format=csv";

fetch(CSV_URL)
.then(r => r.text())
.then(data => {
  const rows = data.split("\n").slice(1);
  let html = "";

  rows.forEach(r => {
    const c = r.split(",");
    if(!c[0]) return;

    html += `
    <div class="bg-white rounded-xl shadow p-3 hover:shadow-lg transition">
      <a target="_blank" href="product.html?id=${c[0]}">
        <img src="${c[5]}" class="h-40 w-full object-cover rounded">
      </a>
      <h3 class="font-bold mt-2 text-sm">${c[1]}</h3>
      <p class="text-xs text-gray-500">${c[2]}</p>
      <div class="text-green-700 font-bold mt-1">â‚¹${c[3]}</div>
      <div class="text-xs mt-1 ${c[4]=='In Stock'?'text-green-600':'text-red-600'}">
        ${c[4]}
      </div>
    </div>`;
  });

  document.getElementById("products").innerHTML = html;
});
</script>

</body>
</html>
